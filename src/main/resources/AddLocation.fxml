<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>

<VBox spacing="0" styleClass="root" stylesheets="@styles/global.css"
      xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="controllers.AddLocationController"
      maxHeight="700" maxWidth="600">
    
    <!-- Header -->
    <HBox styleClass="header-bar" alignment="CENTER_LEFT">
        <padding>
            <Insets left="20" right="20" top="12" bottom="12"/>
        </padding>
        <HBox alignment="CENTER_LEFT" spacing="12">
            <FontAwesomeIconView glyphName="MAP_MARKER" size="1.5em" fill="WHITE"/>
            <Label fx:id="formTitle" text="Add New Location" styleClass="header-title"/>
        </HBox>
        <Region HBox.hgrow="ALWAYS"/>
        <Button onAction="#handleClose" styleClass="header-button">
            <graphic>
                <FontAwesomeIconView glyphName="TIMES" size="1.2em" fill="WHITE"/>
            </graphic>
        </Button>
    </HBox>

    <!-- Main Content -->
    <ScrollPane fitToWidth="true" styleClass="custom-scroll-pane" VBox.vgrow="ALWAYS">
        <VBox spacing="25" styleClass="form-container">
            <padding>
                <Insets top="30" right="40" bottom="30" left="40"/>
            </padding>

            <!-- Location Details Form -->
            <VBox spacing="20" styleClass="content-section">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <!-- Basic Info -->
                <VBox spacing="15">
                    <Label text="Basic Information" styleClass="section-label"/>
                    <TextField fx:id="nameField" promptText="Location Name"/>
                    <TextField fx:id="addressField" promptText="Address"/>
                    <ComboBox fx:id="cityComboBox" promptText="Select City" maxWidth="Infinity"/>
                </VBox>

                <!-- Capacity and Status -->
                <VBox spacing="15">
                    <Label text="Capacity and Status" styleClass="section-label"/>
                    <TextField fx:id="capacityField" promptText="Capacity (number of people)"/>
                    <ComboBox fx:id="statusComboBox" promptText="Status" maxWidth="Infinity"/>
                </VBox>

                <!-- Description -->
                <VBox spacing="15">
                    <Label text="Description" styleClass="section-label"/>
                    <TextArea fx:id="descriptionArea" promptText="Location Description" wrapText="true"/>
                </VBox>

                <!-- Dimensions and Price -->
                <VBox spacing="15">
                    <Label text="Dimensions and Price" styleClass="section-label"/>
                    <TextField fx:id="dimensionField" promptText="Dimensions (e.g., 20m x 30m)"/>
                    <TextField fx:id="priceField" promptText="Price per day (DT)"/>
                </VBox>

                <!-- 3D Tour Option -->
                <VBox spacing="15">
                    <Label text="3D Tour Settings" styleClass="section-label"/>
                    <CheckBox fx:id="has3DTourCheckbox" text="Enable 3D Tour" styleClass="feature-checkbox"/>
                    
                    <!-- 3D Tour Customization -->
                    <VBox fx:id="tourCustomizationBox" spacing="10" disable="${!has3DTourCheckbox.selected}">
                        <Label text="Furniture and Decorations" styleClass="subsection-label"/>
                        
                        <!-- Tables and Chairs -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Number of Table Sets:" />
                            <ComboBox fx:id="tableSetCountComboBox" prefWidth="100">
                                <tooltip>
                                    <Tooltip text="Each set includes 1 table with 4 chairs" />
                                </tooltip>
                            </ComboBox>
                        </HBox>
                        
                        <!-- Plants -->
                        <CheckBox fx:id="includeCornerPlantsCheckbox" text="Add Corner Plants" selected="true"/>
                        
                        <!-- Windows -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Window Style:" />
                            <ComboBox fx:id="windowStyleComboBox" prefWidth="150"/>
                        </HBox>
                        
                        <!-- Door -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Door Style:" />
                            <ComboBox fx:id="doorStyleComboBox" prefWidth="150"/>
                        </HBox>
                        
                        <!-- Lighting -->
                        <CheckBox fx:id="includeCeilingLightsCheckbox" text="Add Ceiling Lights" selected="true"/>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Light Color:" />
                            <ColorPicker fx:id="lightColorPicker" />
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Image Upload -->
                <VBox spacing="10" alignment="CENTER">
                    <Label text="Location Image" styleClass="section-label"/>
                    <StackPane>
                        <ImageView fx:id="locationImage" fitHeight="200" fitWidth="300" 
                                 preserveRatio="true" styleClass="upload-preview"/>
                        <Button fx:id="uploadButton" styleClass="upload-button">
                            <graphic>
                                <FontAwesomeIconView glyphName="UPLOAD" size="1.5em"/>
                            </graphic>
                        </Button>
                    </StackPane>
                </VBox>
            </VBox>

            <!-- Action Buttons -->
            <HBox spacing="15" alignment="CENTER_RIGHT">
                <Button onAction="#handleClose" styleClass="button, secondary" text="Cancel"/>
                <Button fx:id="saveButton" onAction="#handleSave" styleClass="button" text="Save"/>
            </HBox>
        </VBox>
    </ScrollPane>
</VBox> 