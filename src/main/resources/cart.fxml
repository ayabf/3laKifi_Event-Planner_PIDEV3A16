<?xml version="1.0" encoding="UTF-8"?>

    <?import javafx.scene.control.Button?>
    <?import javafx.scene.control.Label?>
    <?import javafx.scene.control.TextField?>
    <?import javafx.scene.image.ImageView?>
    <?import javafx.scene.layout.AnchorPane?>
    <?import javafx.scene.layout.BorderPane?>
    <?import javafx.scene.layout.HBox?>
    <?import javafx.scene.layout.Region?>
    <?import javafx.scene.layout.VBox?>

    <?import javafx.scene.control.ListView?>
    <BorderPane prefHeight="600.0" prefWidth="800.0"
                style="-fx-background-color: #F4F4F4; -fx-padding: 20px;"
                xmlns="http://javafx.com/javafx/23.0.1"
                xmlns:fx="http://javafx.com/fxml/1"
                fx:controller="controllers.CartController">

        <!-- ✅ HEADER -->
        <top>

            <HBox alignment="CENTER" spacing="10"
                  style="-fx-background-color: #533C5C; -fx-padding: 15px; -fx-border-radius: 10px;">
                <Label style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;"
                       text="🛒 Mon Panier" />

                <Region HBox.hgrow="ALWAYS"/>

                <Button fx:id="myOrdersButton"
                        text="📦 Mes Commandes"
                        onAction="#goToMyOrders"
                        style="-fx-background-color: #6F42C1; -fx-text-fill: white;
               -fx-font-weight: bold; -fx-font-size: 14px;" />
                <Button text="Retour" onAction="#goBackToWelcome"
                        style="-fx-background-color: white; -fx-text-fill: #533C5C; -fx-font-weight: bold;"/>
            </HBox>
        </top>

        <!-- ✅ CONTENU PRINCIPAL -->
        <center>
            <VBox spacing="10" style="-fx-padding: 15px;">
                <Label text="🛍 Produits dans votre panier :" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <ListView fx:id="cartListView" prefHeight="350"/>

                <HBox spacing="10" alignment="CENTER">
                    <TextField fx:id="codePromoField" promptText="Entrez un code promo..." style="-fx-padding: 5px;"/>
                    <Button fx:id="applyPromoButton" text="Appliquer" onAction="#applyPromo"
                            style="-fx-background-color: #28A745; -fx-text-fill: white; -fx-font-weight: bold;"/>
                    <Label fx:id="discountLabel" text="Remise : $0.00" style="-fx-font-size: 14px; -fx-text-fill: green;"/>
                </HBox>

                <Label fx:id="subtotalLabel" text="Total : $0.00" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
                <Button fx:id="checkoutButton" text="Valider le Panier" onAction="#validateCart"
                        style="-fx-background-color: #533C5C; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;"/>
            </VBox>
        </center>

        <!-- ✅ FOOTER -->
        <bottom>
            <HBox alignment="CENTER" spacing="20"
                  style="-fx-background-color: #533C5C; -fx-padding: 10px; -fx-border-radius: 10px;">
                <Label style="-fx-text-fill: white; -fx-font-size: 14px;"
                       text="© 2025 Event Planner - Tous droits réservés"/>
            </HBox>
        </bottom>

    </BorderPane>
